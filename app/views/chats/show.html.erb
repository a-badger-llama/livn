<%= turbo_stream_from @chat, :messages %>

<%= content_for :header do %>
  <%= render "chat_header", chat: @chat %>
<% end %>

<div class="w-full flex flex-col flex-grow overflow-y-auto py-4" data-chat-target="messages">
  <div id="<%= dom_id(@chat) %>_messages" class="flex flex-grow flex-col gap-2 container mx-auto max-w-4xl">
    <%= render partial: "messages/message", collection: @chat.messages, as: :message, cached: true %>
  </div>
</div>

<div class="flex flex-col container mx-auto max-w-4xl box-border-2 border-black">
  <%= render "messages/form", message: @chat.messages.build %>
  <p class="flex w-full justify-center py-1">AI can make mistakes. Please check important info</p>
</div>
